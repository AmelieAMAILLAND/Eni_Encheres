<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.com">
<head>
<meta charset="UTF-8">
<title th:text="#{title.auction}"></title>
<link rel="stylesheet" href="/css/general.css">
<link rel="stylesheet" href="/css/auctions.css">
<link rel="icon" href="images/favicon.png"/>
</head>

<body>

<div data-th-replace="~{fragments/fragment-header :: header}"></div>
	
	<main>
		
		<div>
			<a th:href="@{|auctions?language=en|}" data-th-text="#{label.lang.en}"></a>
			<a th:href="@{|auctions?language=fr|}" data-th-text="#{label.lang.fr}"></a>
		</div>
	
		<h1 class="title" th:text="#{h1.auctions}"></h1>
		<h2 class="subtitle" th:text="#{h2.auctions}"></h2>
		<section class="filter-container">
			<form th:action="@{/auctions}" method="post" th:object="${article}">
				<div class="inputs-container">
					
					<input id="inputSearch" type="text" th:field="*{articleName}" th:placeholder="#{placeholder.articleName}">
					
					<div class="category">
						<label for="inputCategory" th:text="#{label.category}"></label>
						<select th:field="*{category}" id="inputCategory">
							<option value="0" th:text="#{label.all}"></option>
							<option th:each="cat:${categoriesSession}" th:value="${cat.categoryId}" th:text="${cat.label}"></option>
						</select>	
					</div>
					
					<div class="achat-vente-container" sec:authorize="isAuthenticated()">
						<div class="achats-container">
							<div class="achat-main-check">
								<input type="radio" id="purchases" name="achats-ventes" value="purchases" th:checked="${purchases}">
								<label for="achats-ventes" th:text="#{label.purchases}"></label>
							</div>
							<div class="sub-container">
								<div class="subachat-1">
									<input type="checkbox" id="open" name="open" th:checked="${open}" disabled="true">
	    							<label for="open" th:text="#{label.openAuctions}"></label>
								</div>
								<div class="subachat-2">
									<input type="checkbox" id="current" name="current" th:checked="${current}" disabled="true">
	    							<label for="current" th:text="#{label.currentAuctions}"></label>
								</div>
								<div class="subachat-3">
									<input type="checkbox" id="won" name="won" th:checked="${won}" disabled="true">
	    							<label for="won" th:text="#{label.wonAuctions}"></label>

								</div>
							</div>
						</div>
						<div class="ventes-container">
							<div class="ventes-main-check">

								<input type="radio" id="sales" name="achats-ventes" value="sales"  th:checked="${sales}">
								<label for="achats-ventes" th:text="#{label.sales}"></label>
							</div>
							<div class="sub-container">
								<div class="subvente-1">
									<input type="checkbox" id="currentVente" name="currentVente" th:checked="${currentVente}" disabled="true">
	    							<label for="currentVente" th:text="#{label.currentSales}"></label>
								</div>
								<div class="subvente-2">
									<input type="checkbox" id="notstarted" name="notstarted" th:checked="${notstarted}" disabled="true">
	    							<label for="notstarted" th:text="#{label.notStartedSales}"></label>
								</div>
								<div class="subvente-3">
									<input type="checkbox" id="finished" name="finished" th:checked="${finished}" disabled="true">
	    							<label for="finished" th:text="#{label.finishedSales}"></label>
								</div>
							</div>
						</div>
					</div>
				</div>
			
				<div class="button-container">
					<button type="submit" th:text="#{label.search}"></button>
				</div>
			</form>
		</section>
		<section class="articles-cards-container">
			<div th:each="art : ${articles}" class="article-card">
				<h3><a th:href="@{/bid(articleId=${art.articleId})}" th:text="${art.articleName}"></a></h3>
				<p th:text="#{label.price}+' '+${art.currentPrice}+' points'"></p>
				<p th:text="#{label.auctionEnd}+' '+${art.auctionEndDate}"></p>
				<p sec:authorize="!isAuthenticated()" th:text="#{label.seller}+' '+${art.seller.pseudo}"></p>
				<p sec:authorize="isAuthenticated()" th:text="#{label.seller}">
				<a th:href="@{/profil(userId=${art.seller.userId})}" th:text="${art.seller.pseudo}"></a></p>
			</div>
		</section>
	</main>
	
	
<div data-th-replace="~{/fragments/fragment-footer :: footer}"></div>


<script src="/js/checkbox.js"></script>
<script src="/js/navbar.js"></script>

</body>

</html>
